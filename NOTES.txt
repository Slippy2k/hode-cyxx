fastcall: _ecx, _edx, stack

if (rcb)
    rtb = rbb;
else
    rtb = rab;

rt = (rb & rc) | (ra & ~rc);
rt = ((ra ^ rb) & rc) ^ ra;

https://graphics.stanford.edu/~seander/bithacks.html#ConditionalSetOrClearBitsWithoutBranching

// Merge bits from two values according to a mask
  unsigned int a;    // value to merge in non-masked bits
  unsigned int b;    // value to merge in masked bits
  unsigned int mask; // 1 where bits from b should be selected; 0 where from a.
  unsigned int r;    // result of (a & ~mask) | (b & mask) goes here
  r = a ^ ((a ^ b) & mask);

.text:0040A34C      mov     dx, [ecx+LvlObject.flags1]
.text:0040A350      mov     bl, byte ptr [esi+LvlAnimSeqHeader.flags1]
.text:0040A353      mov     al, dl
.text:0040A355      xor     al, bl
.text:0040A357      and     eax, 6
.text:0040A35A      xor     eax, edx
.text:0040A35C      mov     [ecx+LvlObject.flags1], ax

LvlObject.flags1 = LvlObject.flags1 ^ ((LvlObject.flags1 ^ LvlAnimSeqHeader.flags1) & 6);
LvlObject.flags1 = (LvlObject.flags1 & ~6) | (LvlAnimSeqHeader.flags1 & 6);

https://en.wikipedia.org/wiki/Anaglyph_3D


convert -delay 8 -loop 0 -layers Optimize screenshot-*-front.bmp rock_lvl_shoot_screen13.gif


Saturn
	file00 code, contains the splash screen
		Inside 'SmpPlaySingleSample', we will play an empty sample ( Sample #=%d )!!
		NbStarters is > MAX_STARTER !!
		Init Luciole No %ld, X=%3ld, Y=%3ld
		!! ERROR !! : Luciole index (%ld) is greater than MAX_LUCIOLES !
		!! ERROR !! : Luciole No %d, ix = %ld, iy = %ld !
		Luciole No %ld, X=%3ld, Y=%3ld
		AmzAlloc : Memory allocation list is corrupted !
		AmzFree : Memory allocation list is corrupted !
		AmzRealloc : Memory allocation list is corrupted !
		TEASER.PAF
		RESINFO1.001
		RESTABLE.001
	file01 'DCD'
		contains palette (6 bits) and bitmaps (LZW)
	file02 'DHD'
		at offset 4, byte screens count
		at offset 5, contains screenGrid (4 * sizeof(screens count))
	file03 .sss
	file04 paf
	file05 paf
	file06 paf
	file07 paf
	file09 paf
	file10 paf
	file11 paf

00000004: Cinematic of Andy (with hat) falling off the canyon
00000005: Cinematic of Mefudoka stealing the Plasma Cannon
00000006: Cinematic of Andy (with helmet) falling off the canyon
00000007: Opening cinematic including the opening credits
00000008: Cinematic where Vicious mistakenly presents Whisky to the Master of Darkness
00000009: Cinematic of Andy (with hat) falling off the canyon (again)
00000010: Cinematic of Mefudoka stealing the Plasma Cannon (again)
00000011: Cinematic of Andy (with helmet) falling off the canyon (again)
00000012: Opening cinematic including the opening credits (again)
00000013: Cinematic where Vicious mistakenly presents Whisky to the Master of Darkness (again)

ハート ha-to
オブ obu
ダークネス da-kunesu

Levels :
	"rock_hod" /* 0 */
	"fort_hod"
	"pwr1_hod"
	"isld_hod"
	"lava_hod" /* 4 */
	"pwr2_hod"
	"lar1_hod"
	"lar2_hod"
	"dark_hod" /* 8 */
	"test_hod"

PSP patch
	https://pastebin.com/wAsEvZ3L
